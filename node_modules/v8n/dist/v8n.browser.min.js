var v8n=function(){"use strict";var a=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),o=function(){function u(n,t,r,e){a(this,u),this.name=n,this.fn=t,this.args=r,this.modifiers=e}return n(u,[{key:"_test",value:function(n){var t=this.fn;try{c(this.modifiers.slice(),t)(n)}catch(n){t=function(){return!1}}try{return c(this.modifiers.slice(),t)(n)}catch(n){return!1}}},{key:"_check",value:function(n){try{c(this.modifiers.slice(),this.fn)(n)}catch(n){if(c(this.modifiers.slice(),function(n){return n})(!1))return}if(!c(this.modifiers.slice(),this.fn)(n))throw null}},{key:"_testAsync",value:function(e){var n=this;return new Promise(function(t,r){(function n(t,r){{if(t.length){var e=t.shift(),u=n(t,r);return e.performAsync(u)}return function(n){return Promise.resolve(i(r,"async")(n))}}})(n.modifiers.slice(),n.fn)(e).then(function(n){n?t(e):r(null)}).catch(function(n){return r(n)})})}}]),u}();function i(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"simple";return"object"==typeof n?n[t]:n}function c(n,t){if(n.length){var r=n.shift(),e=c(n,t);return r.perform(e)}return i(t)}var e=function n(t,r,e){a(this,n),this.name=t,this.perform=r,this.performAsync=e},f=function(n){function f(n,t,r,e){a(this,f);for(var u=arguments.length,i=Array(4<u?u-4:0),o=4;o<u;o++)i[o-4]=arguments[o];var c=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,i));return Error.captureStackTrace&&Error.captureStackTrace(c,f),c.rule=n,c.value=t,c.cause=r,c.target=e,c}return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(f,Error),f}(),t=function(){function r(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];a(this,r),this.chain=n,this.nextRuleModifiers=t}return n(r,[{key:"_applyRule",value:function(e,u){var i=this;return function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];return i.chain.push(new o(u,e.apply(i,t),t,i.nextRuleModifiers)),i.nextRuleModifiers=[],i}}},{key:"_applyModifier",value:function(n,t){return this.nextRuleModifiers.push(new e(t,n.simple,n.async)),this}},{key:"_clone",value:function(){return new r(this.chain.slice(),this.nextRuleModifiers.slice())}},{key:"test",value:function(t){return this.chain.every(function(n){return n._test(t)})}},{key:"testAll",value:function(r){var e=[];return this.chain.forEach(function(t){try{t._check(r)}catch(n){e.push(new f(t,r,n))}}),e}},{key:"check",value:function(r){this.chain.forEach(function(t){try{t._check(r)}catch(n){throw new f(t,r,n)}})}},{key:"testAsync",value:function(r){var e=this;return new Promise(function(n,t){!function n(t,r,e,u){if(r.length){var i=r.shift();i._testAsync(t).then(function(){n(t,r,e,u)},function(n){u(new f(i,t,n))})}else e(t)}(r,e.chain.slice(),n,t)})}}]),r}();function r(){return function e(u){return new Proxy(u,{get:function(n,t){if(t in n)return n[t];var r=e(u._clone());return t in l?r._applyModifier(l[t],t):t in s?r._applyRule(s[t],t):t in h?r._applyRule(h[t],t):void 0}})}(new t)}var s={};r.extend=function(n){Object.assign(s,n)},r.clearCustomRules=function(){s={}};var l={not:{simple:function(t){return function(n){return!t(n)}},async:function(t){return function(n){return Promise.resolve(t(n)).then(function(n){return!n}).catch(function(n){return!0})}}},some:{simple:function(t){return function(n){return u(n).some(function(n){try{return t(n)}catch(n){return!1}})}},async:function(t){return function(n){return Promise.all(u(n).map(function(n){try{return t(n).catch(function(n){return!1})}catch(n){return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(n){return u(n).every(t)}},async:function(t){return function(n){return Promise.all(u(n).map(t)).then(function(n){return n.every(Boolean)})}}}};function u(n){return"string"==typeof n?n.split(""):n}var h={equal:function(t){return function(n){return n==t}},exact:function(t){return function(n){return n===t}},number:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return function(n){return"number"==typeof n&&(t||isFinite(n))}},integer:function(){return function(n){return(Number.isInteger||p)(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return y("string")},boolean:function(){return y("boolean")},undefined:function(){return y("undefined")},null:function(){return y("null")},array:function(){return y("array")},object:function(){return y("object")},instanceOf:function(t){return function(n){return n instanceof t}},pattern:function(t){return function(n){return t.test(n)}},lowercase:function(){return function(n){return/^([a-z]+\s*)+$/.test(n)}},uppercase:function(){return function(n){return/^([A-Z]+\s*)+$/.test(n)}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(t){return function(n){return n[0]==t}},last:function(t){return function(n){return n[n.length-1]==t}},empty:function(){return function(n){return 0===n.length}},length:function(t,r){return function(n){return n.length>=t&&n.length<=(r||t)}},minLength:function(t){return function(n){return n.length>=t}},maxLength:function(t){return function(n){return n.length<=t}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return 0<=n}},between:function(t,r){return function(n){return t<=n&&n<=r}},range:function(t,r){return function(n){return t<=n&&n<=r}},lessThan:function(t){return function(n){return n<t}},lessThanOrEqual:function(t){return function(n){return n<=t}},greaterThan:function(t){return function(n){return t<n}},greaterThanOrEqual:function(t){return function(n){return t<=n}},even:function(){return function(n){return n%2==0}},odd:function(){return function(n){return n%2!=0}},includes:function(t){return function(n){return~n.indexOf(t)}},schema:function(n){return u=n,{simple:function(r){var e=[];if(Object.keys(u).forEach(function(t){var n=u[t];try{n.check((r||{})[t])}catch(n){n.target=t,e.push(n)}}),0<e.length)throw e;return!0},async:function(r){var e=[],n=Object.keys(u).map(function(t){var n=u[t];return n.testAsync((r||{})[t]).catch(function(n){n.target=t,e.push(n)})});return Promise.all(n).then(function(n){if(0<e.length)throw e;return!0})}};var u},passesAnyOf:function(){for(var n=arguments.length,r=Array(n),t=0;t<n;t++)r[t]=arguments[t];return function(t){return r.some(function(n){return n.test(t)})}},optional:function(t){var r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(n){return r&&"string"==typeof n&&""===n.trim()||null!=n&&t.check(n),!0}}};function y(t){return function(n){return Array.isArray(n)&&"array"===t||null===n&&"null"===t||typeof n===t}}function p(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}return r}();
//# sourceMappingURL=v8n.browser.min.js.map
